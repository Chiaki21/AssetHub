<Page x:Class="AssetHub.EmployeePage"
      xmlns:local="clr-namespace:AssetHub.Converters"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Employee Management">


    <Page.Resources>
        <local:BooleanToStatusConverter x:Key="BooleanToStatusConverter"/>
        <local:BooleanToColorConverter x:Key="BooleanToColorConverter"/>
    </Page.Resources>
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Stretch" Margin="0,0,0,20">
            <TextBlock Text="Employee Directory" FontSize="24" FontWeight="Bold" VerticalAlignment="Center"/>

            <Grid Margin="30,0,0,0">
                <materialDesign:PackIcon Kind="Magnify" 
                                        Foreground="Gray" 
                                        VerticalAlignment="Center" 
                                        Margin="10,0,0,0" 
                                        Width="20" Height="20" 
                                        Panel.ZIndex="1"/>

                <TextBox x:Name="TxtSearch" 
                         Width="300" Height="40" 
                         Padding="35,0,10,0" 
                         VerticalContentAlignment="Center"
                         materialDesign:HintAssist.Hint="Search by name, email or department..."
                         materialDesign:TextFieldAssist.HasClearButton="True"
                         TextChanged="TxtSearch_TextChanged"
                         />
            </Grid>

            <Button Content="+ Add Employee" 
                    Click="BtnAddEmployee_Click" 
                    Margin="20,0,0,0" 
                    Padding="15,5" 
                    Background="#4CAF50" 
                    BorderBrush="Transparent"
                    Foreground="White"
                    Cursor="Hand"/>
        </StackPanel>

        <DataGrid x:Name="EmployeeGrid" Grid.Row="1" 
                  AutoGenerateColumns="False" 
                  CanUserAddRows="False"
                  IsReadOnly="True" 
                  SelectionMode="Single"
                  Background="White"
                  BorderThickness="1"
                  BorderBrush="#DDD"
                  HeadersVisibility="Column"
                  GridLinesVisibility="Horizontal">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Name" Binding="{Binding FullName}" Width="1.5*"/>
                <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="2*"/>
                <DataGridTextColumn Header="Department" Binding="{Binding Department}" Width="*"/>
                <DataGridTextColumn Header="Job Title" Binding="{Binding JobTitle}" Width="*"/>
                <DataGridTemplateColumn Header="Status" Width="100">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding IsActive, Converter={StaticResource BooleanToStatusConverter}}" 
                                       Foreground="{Binding IsActive, Converter={StaticResource BooleanToColorConverter}}"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>